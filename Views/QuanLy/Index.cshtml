<!DOCTYPE html>
<html lang="vi">
<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>Admin Dashboard — Quản trị hệ thống</title>
    <link rel="stylesheet" href="~/css/admin.css" asp-append-version="true" />
</head>
<body>
    <div class="admin-dashboard container-fluid">

        <!-- 🔹 Tiêu đề chính -->
        <div class="page-header text-center">
            <h2>
                <i class="glyphicon glyphicon-cog"></i> Bảng điều khiển quản trị hệ thống
            </h2>
        </div>

        <!-- 🔸 Thống kê nhanh -->
        <div class="row text-center" style="margin-bottom:25px;">
            <div class="col-sm-4">
                <div class="well small-card">
                    <i class="glyphicon glyphicon-user text-primary" style="font-size:30px;"></i>
                    <h4>32</h4>
                    <p class="text-muted">Người dùng</p>
                </div>
            </div>
            <div class="col-sm-4">
                <div class="well small-card">
                    <i class="glyphicon glyphicon-ok-circle text-success" style="font-size:30px;"></i>
                    <h4>15</h4>
                    <p class="text-muted">Hoạt động hôm nay</p>
                </div>
            </div>
            <div class="col-sm-4">
                <div class="well small-card">
                    <i class="glyphicon glyphicon-warning-sign text-danger" style="font-size:30px;"></i>
                    <h4>2</h4>
                    <p class="text-muted">Cảnh báo hệ thống</p>
                </div>
            </div>
        </div>

        <!-- 🔸 Quản lý hệ thống -->
        <div class="panel panel-info">
            <div class="panel-heading">
                <i class="glyphicon glyphicon-lock"></i> Quản lý phân quyền & Thiết lập hệ thống
            </div>
            <div class="panel-body">
                <p class="text-muted">Thực hiện quản lý vai trò, phân quyền người dùng và cấu hình toàn hệ thống.</p>

                <div class="btn-group">
                    <button id="open-role-manager" type="button" class="btn btn-primary">
                        <i class="glyphicon glyphicon-lock"></i> Quản lý vai trò
                    </button>
                    <button id="open-system-config" type="button" class="btn btn-success">
                        <i class="glyphicon glyphicon-cog"></i> Thiết lập hệ thống
                    </button>
                </div>
            </div>
        </div>

        <!-- 🔸 Nhật ký hệ thống -->
        <div class="panel panel-default">
            <div class="panel-heading">
                <i class="glyphicon glyphicon-list-alt"></i> Nhật ký hệ thống
            </div>
            <div class="panel-body">

                <!-- Tìm kiếm & ngôn ngữ -->
                <div class="row" style="margin-bottom:15px;">
                    <div class="col-sm-6">
                        <div class="input-group">
                            <input id="log-search" type="text" class="form-control" placeholder="🔍 Tìm kiếm người dùng, hành động...">
                            <span class="input-group-btn">
                                <button id="btn-search" class="btn btn-default"><i class="glyphicon glyphicon-search"></i></button>
                            </span>
                        </div>
                    </div>
                    <div class="col-sm-6 text-right">
                        <label class="text-muted"><i class="glyphicon glyphicon-globe"></i> Ngôn ngữ: </label>
                        <select id="lang-select" class="form-control input-sm" style="width:auto; display:inline-block;">
                            <option value="vi">Tiếng Việt</option>
                            <option value="en">English</option>
                            <option value="jp">日本語</option>
                        </select>
                    </div>
                </div>

                <!-- Bộ lọc -->
                <div class="text-right" style="margin-bottom:10px;">
                    <div class="btn-group btn-group-sm">
                        <button class="btn btn-default filter-btn active" data-filter="all">
                            <i class="glyphicon glyphicon-list"></i> Tất cả
                        </button>
                        <button class="btn btn-success filter-btn" data-filter="success">
                            <i class="glyphicon glyphicon-ok"></i> Thành công
                        </button>
                        <button class="btn btn-info filter-btn" data-filter="info">
                            <i class="glyphicon glyphicon-info-sign"></i> OK
                        </button>
                        <button class="btn btn-danger filter-btn" data-filter="danger">
                            <i class="glyphicon glyphicon-remove"></i> Từ chối
                        </button>
                    </div>
                </div>

                <!-- Bảng log -->
                <div class="table-responsive">
                    <table id="log-table" class="table table-striped table-hover">
                        <thead>
                            <tr class="bg-primary text-white">
                                <th>Thời gian</th>
                                <th>Người dùng</th>
                                <th>Hành động</th>
                                <th>Trạng thái</th>
                                <th>Địa chỉ IP</th>
                            </tr>
                        </thead>
                        <tbody>
                            <tr class="success">
                                <td>2025-10-27 08:30</td>
                                <td>admin</td>
                                <td>Cập nhật cấu hình</td>
                                <td><span class="label label-success">Thành công</span></td>
                                <td>203.0.113.1</td>
                            </tr>
                            <tr class="info">
                                <td>2025-10-27 08:35</td>
                                <td>khoi</td>
                                <td>Đăng nhập</td>
                                <td><span class="label label-info">OK</span></td>
                                <td>203.0.113.2</td>
                            </tr>
                            <tr class="danger">
                                <td>2025-10-27 08:40</td>
                                <td>guest</td>
                                <td>Truy cập trái phép</td>
                                <td><span class="label label-danger">Từ chối</span></td>
                                <td>203.0.113.3</td>
                            </tr>
                        </tbody>
                    </table>
                </div>
            </div>
        </div>
    </div>

    <!-- 🔹 Modal Phân quyền -->
    <div class="modal fade" id="roleModal" tabindex="-1" role="dialog" aria-labelledby="roleModalLabel">
        <div class="modal-dialog">
            <div class="modal-content">
                <div class="modal-header">
                    <button type="button" class="close" data-dismiss="modal">&times;</button>
                    <h4 class="modal-title" id="roleModalLabel">Quản lý phân quyền</h4>
                </div>
                <div class="modal-body">
                    <form id="role-form">
                        <div class="form-group">
                            <label>Tên vai trò</label>
                            <input type="text" class="form-control" name="roleName" placeholder="Nhập tên vai trò" required>
                        </div>
                        <div class="form-group">
                            <label>Phân quyền chức năng</label>
                            <div class="checkbox">
                                <label><input type="checkbox" name="permission" value="view"> Xem</label>
                            </div>
                            <div class="checkbox">
                                <label><input type="checkbox" name="permission" value="edit"> Sửa</label>
                            </div>
                            <div class="checkbox">
                                <label><input type="checkbox" name="permission" value="delete"> Xóa</label>
                            </div>
                        </div>
                        <button type="submit" class="btn btn-success">Lưu</button>
                        <button type="button" class="btn btn-default" data-dismiss="modal">Đóng</button>
                    </form>
                </div>
            </div>
        </div>
    </div>

    <!-- 🧩 Modal Thiết lập hệ thống -->
    <div class="modal fade" id="configModal" tabindex="-1" role="dialog">
        <div class="modal-dialog modal-md">
            <div class="modal-content">
                <div class="modal-header bg-info">
                    <button type="button" class="close" data-dismiss="modal">&times;</button>
                    <h4 class="modal-title"><i class="glyphicon glyphicon-cog"></i> Thiết lập hệ thống</h4>
                </div>
                <div class="modal-body">
                    <form>
                        <div class="form-group">
                            <label>Tên hệ thống</label>
                            <input type="text" class="form-control" value="Hệ thống quản trị thư viện số">
                        </div>
                        <div class="form-group">
                            <label>Ngôn ngữ mặc định</label>
                            <select class="form-control">
                                <option>Tiếng Việt</option>
                                <option>English</option>
                                <option>日本語</option>
                            </select>
                        </div>
                        <div class="form-group">
                            <label>Chế độ bảo trì</label>
                            <select class="form-control">
                                <option>Tắt</option>
                                <option>Bật</option>
                            </select>
                        </div>
                    </form>
                </div>
                <div class="modal-footer">
                    <button class="btn btn-default" data-dismiss="modal">Đóng</button>
                    <button class="btn btn-success">Lưu thay đổi</button>
                </div>
            </div>
        </div>
    </div>

    @section Scripts {
        <script src="~/js/admin.js"></script>
    }

</body>
</html>
